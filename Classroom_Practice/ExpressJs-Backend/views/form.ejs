<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>Add New Student</h1>
    <form action="/student/register" method="POST">
        <input type="text" name="name" placeholder="Name">
        <Select name="branch">
            <option value="CSE">CSE</option>
            <option value="ECE">ECE</option>
            <option value="ME">ME</option>
        </Select>
        <button type="submit">Submit</button>
    </form>

<div id="currstudents">
        <h2>
            Current Students (Count = <%= totalStudents %>)
        </h2>


    <% if(allStudents.length === 0){ %>

        <h3>No students registered yet.</h3>

    <% } else { %>

        <table border="1" cellpadding="10">
        <tr>
            <th>Name</th>
            <th>Branch</th>
            <th>Action</th>
        </tr>


           <% allStudents.forEach(s => { %>
    <tr>
        <td><%= s.name %></td>
        <td><%= s.branch %></td>

        <td>
            <a href="/students/delete/<%= s.id %>">
                <button>Delete</button>
            </a>
        </td>

    </tr>
<% }) %>


        </table>

    <% } %>

</div>

<h2>Filter by Branch</h2>

<form method="GET" action="/">
    
    <select name="branch">

        <option value="">All</option>

        <option value="CSE" <%= selectedBranch === "CSE" ? "selected" : "" %>>
            CSE
        </option>

        <option value="ECE" <%= selectedBranch === "ECE" ? "selected" : "" %>>
            ECE
        </option>

        <option value="ME" <%= selectedBranch === "ME" ? "selected" : "" %>>
            ME
        </option>

    </select>

    <button type="submit">Filter</button>

</form>





  
</body>
</html>