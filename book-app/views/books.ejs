<!DOCTYPE html>
<html>

<head>
    <title>Books</title>
</head>

<body>

    <h1>All Books</h1>

    <form method="GET" action="/books">
        <input type="text" name="author" placeholder="Filter by Author">
        <input type="number" name="year" placeholder="Filter by Year">
        <input type="text" name="search" placeholder="Search by Title">
        <button type="submit">Filter</button>
    </form>

    <br>

    <table border="1" cellpadding="10">
        <tr>
            <th>ID</th>
            <th>Title</th>
            <th>Author</th>
            <th>Year</th>
        </tr>

        <% books.forEach(book=> { %>
            <tr>
                <td>
                    <%= book.id %>
                </td>
                <td>
                    <%= book.title %>
                </td>
                <td>
                    <%= book.author %>
                </td>
                <td>
                    <%= book.year %>
                </td>
            </tr>
            <% }) %>
    </table>

    <br>

    <h2>Add New Book</h2>

    <form method="POST" action="/books">
        <input type="text" name="title" placeholder="Title" required>
        <input type="text" name="author" placeholder="Author" required>
        <input type="number" name="year" placeholder="Year" required>
        <button type="submit">Add Book</button>
    </form>

    <br>

    <p>Page: <%= page %> | Limit: <%= limit %> | Total: <%= total %>
    </p>

</body>

</html>